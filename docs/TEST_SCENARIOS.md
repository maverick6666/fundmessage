# Fund Messenger 테스트 시나리오

> 마지막 업데이트: 2026-02-08

## 테스트 계정

| 역할 | 이름 | 이메일 | 비밀번호 |
|------|------|--------|----------|
| 팀장 | 이학현 | lhhh0420@naver.com | lhh0420! |
| 팀원 | 테스터 | test@naver.com | 12345678 |

## 배포 URL

- **Frontend**: https://fundmessage.vercel.app
- **Backend**: https://port-0-fundmessage-backend-ml0uw7x1b9f1617c.sel3.cloudtype.app

---

## 테스트 라운드 기록

| 라운드 | 날짜 | 발견 | 해결 | 상태 |
|--------|------|------|------|------|
| 1 | 2026-02-08 | - | - | 진행중 |

---

# 시나리오 목록

## A. 인증 (Auth)

### A1. 회원가입
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/signup` 접속 | 회원가입 폼 표시 |
| 2 | 이메일 입력 | 입력 가능 |
| 3 | 이름 입력 (2자 이상) | 입력 가능 |
| 4 | 비밀번호 입력 (8자 이상) | 입력 가능 |
| 5 | 비밀번호 확인 입력 | 일치 여부 표시 |
| 6 | 가입하기 클릭 | 성공 메시지 + 3초 후 로그인 페이지 이동 |

**에러 케이스:**
- [ ] 비밀번호 불일치 → 오류 메시지
- [ ] 비밀번호 8자 미만 → 오류 메시지
- [ ] 이미 가입된 이메일 → 409 오류
- [ ] 이름 2자 미만 → 오류 메시지

### A2. 로그인
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/login` 접속 | 로그인 폼 표시 |
| 2 | 이메일/비밀번호 입력 | 입력 가능 |
| 3 | 로그인 버튼 클릭 | 대시보드로 이동 |

**에러 케이스:**
- [ ] 잘못된 비밀번호 → 401 오류 토스트
- [ ] 미승인 계정 → 403 오류 (팀장 승인 필요)

### A3. 로그아웃
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 헤더 로그아웃 버튼 클릭 | 로그인 페이지로 이동 |
| 2 | 재접속 시도 | 로그인 필요 |

---

## B. 대시보드 (Dashboard)

### B1. 대시보드 조회
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/` 접속 | 대시보드 로드 |
| 2 | - | 처리 필요 항목 섹션 (미확인 포지션 등) |
| 3 | - | 원화/달러 자본금 표시 |
| 4 | - | 열린 포지션 목록 |
| 5 | - | 최근 요청 목록 |
| 6 | - | 보고서/칼럼 섹션 |

### B2. 팀 정보 탭
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "팀 정보" 탭 클릭 | 팀 정보 뷰 표시 |
| 2 | - | 팀원 랭킹 표시 |
| 3 | - | 팀원 목록 표시 |
| 4 | 팀원 카드 클릭 | 상세 통계 표시 |

### B3. 팀 설정 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "팀 설정" 버튼 클릭 | 설정 모달 열림 |
| 2 | 원화 자본금 수정 | 입력 가능 |
| 3 | 달러 자본금 수정 | 입력 가능 |
| 4 | 저장 클릭 | 성공 토스트 + 모달 닫힘 |

**권한:** 팀장만

### B4. 환전 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "환전" 버튼 클릭 | 환전 모달 열림 |
| 2 | 방향 선택 (KRW→USD / USD→KRW) | 선택 가능 |
| 3 | 금액 입력 | 환산 금액 자동 계산 |
| 4 | 메모 입력 (선택) | 입력 가능 |
| 5 | 환전 실행 클릭 | 성공 토스트 + 잔액 업데이트 |

**에러 케이스:**
- [ ] 잔액 부족 → 경고 메시지

**권한:** 팀장만

---

## C. 포지션 (Positions)

### C1. 포지션 목록 조회
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/positions` 접속 | 포지션 목록 로드 |
| 2 | - | 진행중/종료/전체 필터 탭 |
| 3 | - | 포지션 카드: 종목명, 티커, 수익률, 매수금액, 현재가, 보유기간 |
| 4 | - | 미확인 포지션 배지 표시 |
| 5 | - | 익절/손절 건수 배지 |
| 6 | 포지션 카드 클릭 | 상세 페이지로 이동 |

### C2. 포지션 요청 (종목 검색 + 매수 요청)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "+ 포지션 요청" 버튼 클릭 | 검색 패널 열림 |
| 2 | 시장 선택 (KOSPI/KOSDAQ/NASDAQ/NYSE/CRYPTO) | 선택 가능 |
| 3 | 종목 검색어 입력 | 자동완성 드롭다운 |
| 4 | 종목 선택 | 차트 로드 |
| 5 | 타임프레임 변경 (일/주/월) | 차트 업데이트 |
| 6 | "매수 요청" 버튼 클릭 | 매수 요청 폼 표시 |
| 7 | 희망 매수가 입력 | 입력 가능 |
| 8 | 희망 수량 입력 | 빠른 버튼 (+5, +10, +50, +100, 천, 만) |
| 9 | 고급 옵션 펼치기 | 분할 매수, 익절/손절 타겟, 메모 |
| 10 | 제출 클릭 | 성공 토스트 + 요청 페이지에 표시 |

### C3. 포지션 상세 조회
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/positions/:id` 접속 | 상세 페이지 로드 |
| 2 | - | 종목 정보 (이름, 티커, 시장) |
| 3 | - | 차트 (타임프레임 변경 가능) |
| 4 | - | 수익률, 평단, 현재가, 수량, 평가금액 |
| 5 | - | 매매계획 섹션 (매수/익절/손절) |
| 6 | - | 의사결정노트 섹션 |

### C4. 포지션 정보 수정 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 편집 버튼 클릭 | 인라인 편집 모드 |
| 2 | 종목명/평단/수량 수정 | 입력 가능 |
| 3 | 저장 클릭 | 성공 토스트 + 이력 기록 |

**권한:** 팀장만

### C5. 매매계획 관리
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 익절/손절 "+ 추가" 클릭 | 새 항목 폼 |
| 2 | 가격/수량 입력 | 입력 가능 |
| 3 | 저장 클릭 | 항목 추가됨 |
| 4 | 항목 수정 | 인라인 편집 |
| 5 | 항목 삭제 (X 버튼) | 항목 제거 |
| 6 | 체크박스 클릭 (팀장) | 체결 확인 모달 → 완료 상태로 변경 |
| 7 | "현재 계획 저장" 클릭 | 스냅샷 저장 + 이력 카운트 증가 |
| 8 | "이력 보기" 클릭 | 저장된 계획 목록 |

**권한:** 체결(체크박스) - 팀장만

### C6. 의사결정노트 CRUD
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "+ 문서 추가" 클릭 (팀장) | 작성 폼 표시 |
| 2 | 제목/내용 입력 | 마크다운 지원 |
| 3 | 저장 클릭 | 노트 목록에 추가 |
| 4 | 노트 클릭 | 내용 펼침 (마크다운 렌더링) |
| 5 | 수정 버튼 클릭 | 편집 폼 |
| 6 | 삭제 버튼 클릭 | 확인 모달 → 삭제 |

**권한:** 팀장만

### C7. 포지션 종료 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "포지션 종료" 버튼 클릭 | 종료 모달 |
| 2 | 청산 금액 입력 | 예상 수익금 자동 계산 |
| 3 | 종료 클릭 | 성공 토스트 + 상태 "closed" |

**권한:** 팀장만

### C8. 토론 개시/요청
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1a | "토론방 열기" 클릭 (팀장) | 제목 입력 모달 → 토론방 생성 |
| 1b | "토론 요청" 클릭 (팀원) | 팀장에게 알림 발송 |
| 2 | "조기종료 요청" 클릭 (팀원) | 팀장에게 알림 발송 |

---

## D. 요청 (Requests)

### D1. 요청 목록 조회
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/requests` 접속 | 요청 목록 로드 |
| 2 | - | 팀 요청 / 내 요청 탭 |
| 3 | - | 상태 필터 (전체/대기중/토론중/승인됨/거부됨) |
| 4 | - | 대기중 요청 건수 배지 (팀장) |
| 5 | 요청 카드 클릭 | 상세 정보 펼침 |

### D2. 요청 승인 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 대기중 요청 펼침 | 승인/거부/토론 버튼 표시 |
| 2 | "승인" 클릭 | 포지션 자동 생성 (미확인 상태) |
| 3 | - | 요청 상태 "approved" |
| 4 | - | 요청자에게 알림 발송 |

**권한:** 팀장만

### D3. 요청 거부 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "거부" 클릭 | 거부 사유 모달 |
| 2 | 사유 입력 (필수) | 입력 가능 |
| 3 | 확인 클릭 | 요청 상태 "rejected" + 알림 발송 |

**권한:** 팀장만

### D4. 토론 개시 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "토론" 클릭 | 토론 제목 모달 |
| 2 | 제목 입력 | 입력 가능 |
| 3 | 확인 클릭 | 토론방 생성 + 요청 상태 "discussion" |

**권한:** 팀장만

### D5. 토론 요청 (팀원)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 내 요청 → 대기중 요청 펼침 | "토론 요청" 버튼 표시 |
| 2 | "토론 요청" 클릭 | 성공 토스트 + 팀장에게 알림 |

### D6. 요청 삭제 (관리자)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 관리자 모드 ON | 삭제 버튼 표시 |
| 2 | 삭제 클릭 | 확인 모달 → 요청 삭제 |

**권한:** 관리자 모드

---

## E. 토론방 (Discussions)

### E1. 토론 목록 조회
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/discussions` 접속 | 토론 목록 로드 |
| 2 | - | 진행중/종료됨/전체 필터 |
| 3 | - | 토론 카드: 제목, 종목, 메시지 수, 마지막 활동 |
| 4 | 토론 클릭 | 상세 페이지로 이동 |

### E2. 실시간 메시지 전송
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/discussions/:id` 접속 | 채팅 화면 로드 |
| 2 | - | 기존 메시지 목록 표시 |
| 3 | 메시지 입력 | 입력 가능 |
| 4 | Enter 또는 전송 버튼 | 메시지 전송 + 즉시 표시 |
| 5 | - | 상대방 화면에 실시간 수신 (WebSocket) |

### E3. 차트 공유
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 차트 공유 버튼 클릭 | 차트 공유 모달 |
| 2 | 종목 검색 + 선택 | 차트 로드 |
| 3 | 차트에서 시작점 클릭 | 범위 선택 시작 |
| 4 | 끝점 클릭 | 범위 선택 완료 |
| 5 | "공유하기" 클릭 | 토론방에 차트 메시지 전송 |

### E4. 토론 종료/재개 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "토론 종료" 클릭 | 요약 입력 (선택) + 종료 |
| 2 | - | 메시지 입력 비활성화 |
| 3 | "토론 재개" 클릭 | 토론 다시 열림 |

**권한:** 팀장만

### E5. 토론 재개 요청 (팀원)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 종료된 토론방 접속 | "재개 요청" 버튼 표시 |
| 2 | "재개 요청" 클릭 | 성공 토스트 + 팀장에게 알림 |

### E6. 세션 내보내기 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "내보내기" 버튼 클릭 | 세션 선택 모달 |
| 2 | 세션 선택 | TXT 파일 다운로드 |

**권한:** 팀장만

---

## F. 문서 (Reports)

### F1. 운용보고서 탭
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/reports?tab=operations` 접속 | 운용보고서 목록 |
| 2 | - | 포지션별 카드 (종목명, 토론/노트 개수) |
| 3 | 카드 클릭 | 포지션 상세로 이동 또는 모달 |

### F2. 의사결정서 탭
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/reports?tab=decisions` 접속 | 의사결정서 목록 |
| 2 | - | 문서 카드 (제목, 포지션, 작성자, 날짜) |
| 3 | 카드 클릭 | DocumentViewer 모달 |

### F3. 칼럼 탭
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/reports?tab=columns` 접속 | 칼럼 목록 |
| 2 | - | 검증됨/전체 필터 |
| 3 | - | 검증 배지 (파란 체크마크) |
| 4 | 카드 클릭 | DocumentViewer 모달 |

### F4. 칼럼 작성
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "칼럼 작성" 클릭 | `/columns/new` 이동 |
| 2 | 제목 입력 | 자동 포커스 |
| 3 | 블록 에디터로 내용 작성 | 문단, 제목, 인용문, 이미지, 구분선 |
| 4 | "저장" 클릭 | 성공 토스트 + 목록에 추가 |

**에러 케이스:**
- [ ] 제목 미입력 → 경고 + 포커스
- [ ] 내용 미입력 → 경고

### F5. 칼럼 검증 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 타인의 칼럼 상세 열기 | "검증" 버튼 표시 |
| 2 | "검증" 클릭 | 파란 체크마크 배지 추가 |
| 3 | - | 작성자 출석 복구 혜택 |

**권한:** 팀장만 (자신의 칼럼 불가)

### F6. 칼럼 삭제
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 삭제 버튼 클릭 | 확인 모달 |
| 2 | 확인 클릭 | 칼럼 삭제 |

**권한:** 작성자 또는 팀장

---

## G. 통계 (Stats)

### G1. 팀 전체 통계
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/stats` 접속 | 통계 페이지 로드 |
| 2 | "팀 전체" 탭 | 팀 통계 표시 |
| 3 | - | 전체 자산 (KRW 환산) |
| 4 | - | 자산 구성 (KRW/USD 분리) |
| 5 | - | 기간 필터 (1주/1개월/분기/전체) |
| 6 | - | 종목별 수익률 (테이블/히트맵 토글) |
| 7 | - | 팀원별 실적 |
| 8 | - | 출석 현황 |

### G2. 내 성과 통계
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "내 성과" 탭 클릭 | 개인 통계 표시 |
| 2 | - | 수익률, 승률, 거래 수 |
| 3 | - | 거래 기록 |
| 4 | - | 출석 현황 |

---

## H. 알림 (Notifications)

### H1. 알림 조회
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 헤더 알림 아이콘 클릭 | 알림 드롭다운 |
| 2 | `/notifications` 접속 | 알림 목록 페이지 |
| 3 | - | 읽지않음/읽음/전체 필터 |
| 4 | - | 알림 유형별 아이콘 |

### H2. 알림 읽음 처리
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 알림 클릭 | 읽음 처리 + 관련 페이지 이동 |
| 2 | "모두 읽음" 클릭 | 전체 읽음 처리 |

### H3. 알림 삭제
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 알림 삭제 버튼 클릭 | 알림 삭제 |
| 2 | "모두 삭제" 클릭 | 확인 모달 → 전체 삭제 |

### H4. 실시간 알림 수신
| 알림 유형 | 트리거 | 수신자 |
|----------|--------|--------|
| 신규 요청 | 팀원이 매수 요청 제출 | 팀장 |
| 토론 개시 | 팀장이 토론 시작 | 요청자 |
| 요청 승인 | 팀장이 요청 승인 | 요청자 |
| 요청 거부 | 팀장이 요청 거부 | 요청자 |
| 토론 재개요청 | 팀원이 재개 요청 | 팀장 |
| 토론 요청 | 팀원이 토론 요청 | 팀장 |
| 조기종료 요청 | 팀원이 조기종료 요청 | 팀장 |
| 사용자 승인대기 | 신규 회원가입 | 팀장 |

---

## I. 팀 관리 (Team Management)

### I1. 팀원 목록 조회
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/team` 접속 | 팀 관리 페이지 (팀장만) |
| 2 | - | 팀원 목록/승인 대기 탭 |
| 3 | - | 팀원 정보 (이메일, 역할, 상태) |

**권한:** 팀장/관리자만

### I2. 팀원 승인
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "승인 대기" 탭 클릭 | 미승인 사용자 목록 |
| 2 | "승인" 버튼 클릭 | 사용자 활성화 + 알림 발송 |

### I3. 역할 변경
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 역할 드롭다운 클릭 | member/manager 선택 |
| 2 | 역할 선택 | 즉시 변경 + 토스트 |

### I4. 팀장 권한 이전
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "권한 이전" 버튼 클릭 | 확인 모달 (경고) |
| 2 | 확인 클릭 | 대상자 팀장 승격 + 본인 팀원 강등 |
| 3 | - | 로그아웃 + 재로그인 필요 |

**권한:** 현재 팀장만

### I5. 계정 비활성화/삭제
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | "비활성화" 클릭 | 계정 비활성화 (로그인 불가) |
| 2 | "삭제" 클릭 (관리자 모드) | 확인 모달 → 완전 삭제 |

**권한:** 비활성화 - 팀장, 삭제 - 관리자 모드

---

## J. 설정 (Settings)

### J1. 테마 변경
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | `/settings` 접속 | 설정 페이지 |
| 2 | 테마 칩 클릭 | 즉시 테마 적용 |
| 3 | - | 다크/라이트 모드 포함 7개+ 테마 |

---

## K. AI 기능

### K1. AI 의사결정서 생성
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 포지션 상세 → "AI로 작성" 클릭 | 토론 세션 선택 모달 |
| 2 | 세션 체크박스 선택 | 선택 가능 |
| 3 | "생성" 클릭 | 로딩 → AI 생성 결과 표시 |
| 4 | "저장" 클릭 | 의사결정노트에 추가 |

**권한:** 팀장만
**에러 케이스:**
- [ ] 세션 미선택 → 경고
- [ ] API 키 미설정 → 오류

### K2. AI 운용보고서 생성
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 포지션 상세 → "AI 보고서" 클릭 | 생성 모달 |
| 2 | "생성" 클릭 | 로딩 → AI 보고서 표시 |
| 3 | "복사" 또는 "저장" 클릭 | 클립보드 복사 또는 노트 저장 |

**권한:** 팀장만

---

## L. 출석 (Attendance)

### L1. 출석 체크인
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 통계 페이지 → 출석 섹션 | 출석 캘린더 표시 |
| 2 | "출석 체크" 클릭 | 오늘 출석 기록 |
| 3 | - | 캘린더에 체크 표시 |

### L2. 출석 복구 요청
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 결석일 클릭 | 복구 요청 모달 |
| 2 | 검증된 칼럼 선택 | 복구 요청 제출 |
| 3 | - | 팀장 승인 대기 상태 |

### L3. 복구 승인/거부 (팀장)
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 복구 대기 목록 확인 | 대기 중인 요청 표시 |
| 2 | "승인" 클릭 | 출석 상태 복구 |
| 3 | "거부" 클릭 | 요청 거부 |

**권한:** 팀장만

---

## M. 관리자 모드

### M1. 관리자 모드 토글
| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 사이드바 "관리자 모드" 클릭 | 모드 ON/OFF |
| 2 | ON 상태 | 삭제 버튼들 표시 (요청, 토론, 포지션 등) |
| 3 | OFF 상태 | 삭제 버튼 숨김 |

**권한:** 팀장만

---

# 발견된 문제

## 라운드 1 (2026-02-08)

| # | 시나리오 | 문제 | 파일 | 상태 |
|---|----------|------|------|------|
| 1 | E5. 토론 재개 요청 | 버튼 중복 클릭 시 알림 중복 생성 (loading 상태 미구현) | Discussion.jsx | 해결됨 |

---

# 변경 이력

| 날짜 | 변경 내용 |
|------|-----------|
| 2026-02-08 | 코드 분석 기반 시나리오 문서 전면 재작성 |
