# Fund Messenger 통합 테스트 시나리오

## 테스트 목표

**모든 기능이 정상 동작할 때까지 아래 시나리오를 반복 수행한다.**

1. 시나리오 순서대로 테스트 진행
2. 각 체크리스트 항목을 하나씩 확인하며 체크
3. 문제 발생 시 해당 시나리오 하단 "발견된 문제" 섹션에 기록
4. 모든 시나리오 완료 후 "발견된 문제 종합" 섹션에서 문제 목록 확인
5. 문제 해결 후 처음부터 다시 테스트
6. 모든 체크리스트가 통과할 때까지 반복

---

## 계정 정보

| 역할 | 이름 | 이메일 | 비밀번호 |
|------|------|--------|----------|
| 팀장 (Manager) | 이학현 | lhhh0420@naver.com | lhh0420! |
| 팀원 (Member) | 테스터 | test@naver.com | 12345678 |

## 배포 URL

- **Frontend**: https://fundmessage.vercel.app
- **Backend API**: https://port-0-fundmessage-backend-ml0uw7x1b9f1617c.sel3.cloudtype.app

---

## 테스트 라운드 기록

| 라운드 | 날짜 | 발견된 문제 수 | 해결된 문제 수 | 상태 |
|--------|------|---------------|---------------|------|
| 1 | 2026-02-07 | 3개 버그 + 3개 UX개선 | 3개 UX개선 완료, 1개 버그 배포됨 | 검증 단계 |
| 2 | 2026-02-07 | 1개 (시스템 알림→모달) | 1개 해결 | 테스트 완료 |
| 3 | | | | 대기 |

---

# 시나리오 목록

1. [인증](#시나리오-1-인증)
2. [대시보드](#시나리오-2-대시보드)
3. [종목 검색 및 매수 요청](#시나리오-3-종목-검색-및-매수-요청)
4. [요청 관리 (승인/거부/토론)](#시나리오-4-요청-관리)
5. [토론방](#시나리오-5-토론방)
6. [포지션 상세 관리](#시나리오-6-포지션-상세-관리)
7. [매매계획 관리](#시나리오-7-매매계획-관리)
8. [의사결정 노트](#시나리오-8-의사결정-노트)
9. [AI 기능](#시나리오-9-ai-기능)
10. [포지션 종료](#시나리오-10-포지션-종료)
11. [문서 (보고서/칼럼)](#시나리오-11-문서)
12. [통계](#시나리오-12-통계)
13. [알림 시스템](#시나리오-13-알림-시스템)
14. [팀 관리](#시나리오-14-팀-관리)
15. [설정](#시나리오-15-설정)

---

# 시나리오 1: 인증

## 1.1 로그인 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 (test@naver.com) |
| **액션** | 로그인 페이지에서 이메일/비밀번호 입력 후 로그인 |
| **예상 결과** | 대시보드로 이동, 사이드바에 "테스터" 이름 표시 |

### 체크리스트
- [ ] 로그인 페이지 로드됨
- [ ] 이메일/비밀번호 입력 가능
- [ ] 로그인 버튼 클릭 시 로딩 표시
- [ ] 성공 시 대시보드 이동
- [ ] 사이드바에 사용자 이름 표시
- [ ] 잘못된 비밀번호 시 에러 토스트 표시

### 발견된 문제
<!-- 문제 발생 시 아래 형식으로 기록 -->
<!--
- **문제**: [증상 설명]
- **원인**: [분석된 원인]
- **파일/위치**: [관련 파일 경로]
- **해결 상태**: 미해결/해결됨
-->

---

## 1.2 로그아웃 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 사이드바 하단 로그아웃 버튼 클릭 |
| **예상 결과** | 로그인 페이지로 이동 |

### 체크리스트
- [ ] 로그아웃 버튼 클릭 가능
- [ ] 로그인 페이지로 리다이렉트
- [ ] 다시 접속 시 로그인 필요

### 발견된 문제

---

## 1.3 로그인 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 (lhhh0420@naver.com) |
| **액션** | 로그인 |
| **예상 결과** | 대시보드 이동, "이학현" 표시, 팀장 전용 메뉴 표시 |

### 체크리스트
- [ ] 로그인 성공
- [ ] 사이드바에 "팀 관리" 메뉴 표시
- [ ] 대시보드에 팀 설정 카드 표시

### 발견된 문제

---

# 시나리오 2: 대시보드

## 2.1 대시보드 조회 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 대시보드 페이지 확인 |
| **예상 결과** | 포트폴리오 요약, 최근 활동, 팀 성과 표시 |

### 체크리스트
- [ ] 포트폴리오 요약 카드 표시
- [ ] 열린 포지션 수 표시
- [ ] 팀 성과 섹션 표시
- [ ] 최근 활동 목록 표시

### 발견된 문제

---

## 2.2 팀 설정 변경 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 대시보드 → 팀 설정 카드 → 설정 변경 |
| **예상 결과** | 팀명, 기준 통화, 시작 잔고 등 변경 가능 |

### 체크리스트
- [x] 팀 설정 카드 표시됨
- [x] 편집 버튼 클릭 시 편집 모드
- [ ] 팀명 변경 가능
- [ ] 기준 통화 변경 가능
- [x] 시작 잔고 변경 가능 (입력은 됨)
- [ ] 저장 시 성공 토스트

### 발견된 문제
- **문제**: 저장 시 "설정 저장에 실패했습니다." alert 표시
- **원인**: `positions/settings/team` API 엔드포인트가 CORS 또는 서버 오류로 실패
- **파일/위치**: backend/app/api/positions.py
- **해결 상태**: 미해결

---

# 시나리오 3: 종목 검색 및 매수 요청

## 3.1 종목 검색 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 포지션 페이지 → 종목 검색 |
| **예상 결과** | 시장별 종목 검색 및 차트 표시 |

### 체크리스트
- [ ] 포지션 페이지 로드
- [ ] "종목 검색" 버튼 표시
- [ ] 클릭 시 검색 모달/패널 열림
- [ ] 시장 선택 가능 (코스피/코스닥/나스닥/NYSE/크립토)
- [ ] 검색어 입력 시 결과 표시
- [ ] 종목 선택 시 차트 로드

### 발견된 문제

---

## 3.2 매수 요청 제출 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 종목 선택 → 매수 요청 폼 작성 → 제출 |
| **예상 결과** | 요청 생성, 팀장에게 알림 발송 |

### 체크리스트
- [ ] 매수 요청 버튼 클릭 가능
- [ ] 매수가 입력 필드 표시
- [ ] 수량 입력 필드 표시
- [ ] 빠른 입력 버튼 동작 (+5, +10, +50, +100 등)
- [ ] 천/만 단위 버튼 동작
- [ ] 고급 옵션 펼치기/접기
- [ ] 익절/손절 타겟 입력 가능 (선택)
- [ ] 메모 입력 가능 (선택)
- [ ] 제출 시 성공 토스트
- [ ] 요청 페이지에 새 요청 표시

### 발견된 문제

---

## 3.3 빠른 입력 버튼 테스트 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 수량 입력 시 빠른 버튼 조합 테스트 |
| **예상 결과** | 숫자 선택 → 단위 클릭 시 곱해서 추가 |

### 체크리스트
- [ ] +10 선택 → 만 클릭 → 100,000 추가
- [ ] +5 선택 → 천 클릭 → 5,000 추가
- [ ] +100 클릭 → +100 클릭 → 100 추가 (단위 없이)
- [ ] 숫자 미선택 시 천/만 버튼 비활성화

### 발견된 문제

---

# 시나리오 4: 요청 관리

## 4.1 요청 목록 조회 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 요청 페이지 이동 |
| **예상 결과** | 대기중/처리됨 요청 목록 표시 |

### 체크리스트
- [ ] 요청 페이지 로드
- [ ] 탭 필터 (대기중/처리됨/전체)
- [ ] 요청 목록 표시
- [ ] 요청자, 종목, 금액, 상태 표시

### 발견된 문제

---

## 4.2 요청 상세 보기 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 요청 카드 클릭 |
| **예상 결과** | 요청 상세 정보 모달/페이지 표시 |

### 체크리스트
- [ ] 요청 클릭 시 상세 표시
- [ ] 종목 정보 표시
- [ ] 요청 가격/수량 표시
- [ ] 요청자 메모 표시
- [ ] 승인/거부/토론 버튼 표시

### 발견된 문제

---

## 4.3 토론 개시 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 요청 상세 → "토론 개시" 클릭 |
| **예상 결과** | 토론방 생성, 요청자에게 알림 |

### 체크리스트
- [ ] 토론 개시 버튼 클릭
- [ ] 토론 제목 입력 모달
- [ ] 생성 시 토론방으로 이동
- [ ] 요청 상태 "discussion"으로 변경
- [ ] 요청자(테스터)에게 알림 발송

### 발견된 문제

---

## 4.4 요청 승인 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 요청 상세 → "승인" 클릭 |
| **예상 결과** | 포지션 생성, 요청자에게 알림 |

### 체크리스트
- [ ] 승인 버튼 클릭
- [ ] 체결가/체결수량 입력 모달 (또는 기본값 사용)
- [ ] 승인 완료 시 성공 토스트
- [ ] 포지션 목록에 새 포지션 표시
- [ ] 요청 상태 "approved"로 변경
- [ ] 요청자에게 알림 발송

### 발견된 문제

---

## 4.5 요청 거부 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 요청 상세 → "거부" 클릭 |
| **예상 결과** | 요청 거부 처리, 요청자에게 알림 |

### 체크리스트
- [ ] 거부 버튼 클릭
- [ ] 거부 사유 입력 (선택)
- [ ] 거부 완료 시 성공 토스트
- [ ] 요청 상태 "rejected"로 변경
- [ ] 요청자에게 알림 발송

### 발견된 문제

---

## 4.6 내 요청 삭제 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 내 요청 페이지 → 요청 삭제 |
| **예상 결과** | 대기중 요청만 삭제 가능 |

### 체크리스트
- [ ] 내 요청 탭 또는 필터
- [ ] 대기중 요청에 삭제 버튼 표시
- [ ] 삭제 확인 다이얼로그
- [ ] 삭제 완료 시 목록에서 제거

### 발견된 문제

---

# 시나리오 5: 토론방

## 5.1 토론방 목록 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 토론방 페이지 이동 |
| **예상 결과** | 진행중/종료됨 토론 목록 표시 |

### 체크리스트
- [ ] 토론방 페이지 로드
- [ ] 필터 탭 (진행중/종료됨/전체)
- [ ] 토론 목록 표시
- [ ] 제목, 종목, 상태, 마지막 메시지 표시

### 발견된 문제

---

## 5.2 토론방 입장 및 메시지 전송 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 양측 번갈아가며 |
| **액션** | 토론방 클릭 → 메시지 입력 → 전송 |
| **예상 결과** | 실시간 메시지 수신 |

### 체크리스트
- [ ] 토론방 클릭 시 채팅 화면 로드
- [ ] 기존 메시지 목록 표시
- [ ] 메시지 입력 필드 표시
- [ ] 메시지 전송 버튼 동작
- [ ] Enter 키로 전송 가능
- [ ] 전송 시 즉시 화면에 표시
- [ ] 상대방 화면에 실시간 수신
- [ ] 발신자 이름 정확히 표시

### 발견된 문제

---

## 5.3 차트 공유 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 또는 이학현 |
| **액션** | 토론방 → 차트 공유 버튼 → 종목 검색 → 범위 선택 → 공유 |
| **예상 결과** | 토론방에 차트 이미지/링크 공유 |

### 체크리스트
- [ ] 차트 공유 버튼 표시
- [ ] 클릭 시 모달 열림
- [ ] 종목 검색 입력
- [ ] 검색 결과 드롭다운 표시
- [ ] 종목 선택 시 차트 로드
- [ ] 차트에서 시작점 클릭 가능
- [ ] 끝점 클릭 시 범위 선택 완료
- [ ] 선택된 날짜 범위 표시
- [ ] 공유하기 클릭 시 토론방에 전송

### 발견된 문제

---

## 5.4 토론 종료 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 토론방 → 토론 종료 버튼 |
| **예상 결과** | 토론 상태 "closed"로 변경 |

### 체크리스트
- [ ] 종료 버튼 표시 (팀장만)
- [ ] 클릭 시 확인 다이얼로그
- [ ] 종료 후 상태 변경
- [ ] 메시지 입력 비활성화

### 발견된 문제

---

## 5.5 토론 재개 요청 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 종료된 토론방 → 재개 요청 버튼 |
| **예상 결과** | 팀장에게 재개 요청 알림 발송 |

### 체크리스트
- [x] 종료된 토론방에서 재개 요청 버튼 표시
- [ ] 클릭 시 성공 토스트 (인라인) - **alert가 표시됨**
- [x] 팀장에게 알림 발송

### 발견된 문제
- **문제**: 클릭 시 toast 대신 alert() 대화상자 표시 ("토론 재개 요청이 매니저에게 전송되었습니다.")
- **원인**: 배포된 버전에 toast 변환이 적용되지 않음
- **파일/위치**: frontend/src/pages/DiscussionDetail.jsx
- **해결 상태**: 로컬 수정 완료, git push + 재배포 필요

---

## 5.6 토론 삭제 (팀장 - 관리자모드)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 (관리자모드 ON) |
| **액션** | 토론방 목록 → 삭제 버튼 |
| **예상 결과** | 토론 및 모든 메시지 삭제 |

### 체크리스트
- [ ] 관리자모드 ON 시 삭제 버튼 표시
- [ ] 클릭 시 확인 다이얼로그
- [ ] 삭제 완료 시 목록에서 제거

### 발견된 문제

---

# 시나리오 6: 포지션 상세 관리

## 6.1 포지션 목록 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 포지션 페이지 이동 |
| **예상 결과** | 열린/종료된 포지션 목록 표시 |

### 체크리스트
- [ ] 포지션 페이지 로드
- [ ] 탭 필터 (열린/종료됨/전체)
- [ ] 포지션 카드 표시
- [ ] 종목명, 수익률, 보유수량 표시
- [ ] 수익률 프로그레스 바 표시

### 발견된 문제

---

## 6.2 포지션 상세 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 포지션 카드 클릭 |
| **예상 결과** | 포지션 상세 페이지 표시 |

### 체크리스트
- [ ] 포지션 상세 페이지 로드
- [ ] 종목 정보 표시
- [ ] 평균 매입가, 수량, 진입금액 표시
- [ ] 차트 표시
- [ ] 매매계획 섹션 표시
- [ ] 의사결정 노트 섹션 표시

### 발견된 문제

---

## 6.3 포지션 정보 수정 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 포지션 상세 → 편집 버튼 → 정보 수정 |
| **예상 결과** | 평균 매입가, 수량, 종목명 수정 가능 |

### 체크리스트
- [ ] 편집 버튼 표시 (팀장만)
- [ ] 클릭 시 인라인 편집 모드
- [ ] 평균 매입가 수정 가능
- [ ] 수량 수정 가능
- [ ] 종목명 수정 가능
- [ ] 저장 시 성공 토스트
- [ ] 이력에 변경 내역 기록

### 발견된 문제

---

## 6.4 토론방 열기 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 포지션 상세 → 토론방 열기 |
| **예상 결과** | 해당 포지션에 대한 토론방 생성 |

### 체크리스트
- [ ] 토론방 열기 버튼 표시
- [ ] 클릭 시 제목 입력 모달
- [ ] 생성 후 토론방으로 이동
- [ ] 토론방 목록에 새 토론 표시

### 발견된 문제

---

## 6.5 토론 요청 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 포지션 상세 → 토론 요청 |
| **예상 결과** | 팀장에게 토론 요청 알림 |

### 체크리스트
- [ ] 토론 요청 버튼 표시 (열린 토론 없을 때)
- [ ] 클릭 시 성공 토스트
- [ ] 팀장에게 알림 발송

### 발견된 문제

---

## 6.6 조기종료 요청 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 포지션 상세 → 조기종료 요청 |
| **예상 결과** | 팀장에게 조기종료 요청 알림 |

### 체크리스트
- [ ] 조기종료 요청 버튼 표시
- [ ] 클릭 시 확인 다이얼로그
- [ ] 요청 후 성공 토스트
- [ ] 팀장에게 알림 발송

### 발견된 문제

---

# 시나리오 7: 매매계획 관리

## 7.1 매수 계획 추가 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 포지션 상세 → 매매계획 → 매수 + 추가 |
| **예상 결과** | 새 매수 계획 항목 추가 |

### 체크리스트
- [ ] 매수 섹션에 + 추가 버튼 표시
- [ ] 클릭 시 새 항목 추가
- [ ] 가격/수량 입력 가능
- [ ] 저장 버튼 또는 자동 저장

### 발견된 문제

---

## 7.2 익절 계획 추가 (팀장/팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 / 테스터 |
| **액션** | 포지션 상세 → 매매계획 → 익절가 + 추가 |
| **예상 결과** | 새 익절 타겟 추가 |

### 체크리스트
- [x] 익절가 섹션에 + 추가 버튼 표시 (2026-02-07 팀원으로 테스트)
- [x] 클릭 시 새 항목 추가 (인라인 폼 표시)
- [x] 가격/수량 입력 가능 (삼양식품: ₩1,100,000 / 3주)
- [x] 저장 성공 (상태: 대기)

### 발견된 문제
- 없음 (정상 동작)

---

## 7.3 손절 계획 추가 (팀장/팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 / 테스터 |
| **액션** | 포지션 상세 → 매매계획 → 손절가 + 추가 |
| **예상 결과** | 새 손절 타겟 추가 |

### 체크리스트
- [x] 손절가 섹션에 + 추가 버튼 표시 (2026-02-07 팀원으로 테스트)
- [x] 클릭 시 새 항목 추가 (인라인 폼 표시)
- [x] 가격/수량 입력 가능 (삼양식품: ₩1,000,000 / 2주)
- [x] 저장 성공 (상태: 대기)

### 발견된 문제
- 없음 (정상 동작)

---

## 7.4 계획 항목 수정 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 기존 계획 항목 클릭 → 수정 |
| **예상 결과** | 가격/수량 수정 가능 |

### 체크리스트
- [ ] 항목 클릭 시 편집 모드
- [ ] 가격 수정 가능
- [ ] 수량 수정 가능
- [ ] 저장 버튼 동작
- [ ] 취소 버튼 동작

### 발견된 문제

---

## 7.5 계획 항목 삭제 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 계획 항목 → X 버튼 |
| **예상 결과** | 항목 삭제 |

### 체크리스트
- [ ] 삭제 버튼(X) 표시
- [ ] 클릭 시 항목 삭제
- [ ] 목록에서 제거

### 발견된 문제

---

## 7.6 계획 항목 체결 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 계획 항목 체크박스 클릭 |
| **예상 결과** | 체결 처리, 보유수량/실현손익 업데이트 |

### 체크리스트
- [x] 체크박스 표시 (팀장만) (2026-02-07 삼양식품에서 테스트)
- [x] 체크 시 확인 다이얼로그 ("익절 체결: ₩1,100,000 (3주), 예상 실현손익: ₩120,000")
- [x] 체결 후 "완료" 상태로 변경
- [x] 보유 수량 업데이트 (5주 → 2주)
- [x] 익절/손절 시 실현손익 반영 (₩120,000 표시)
- [ ] 잔량 0 시 종료 안내 토스트 (미테스트)

### 발견된 문제
- 없음 (정상 동작)

---

## 7.7 매매계획 저장 (스냅샷)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 매매계획 → 메모 입력 → 현재 계획 저장 |
| **예상 결과** | 계획 이력에 스냅샷 저장 |

### 체크리스트
- [x] 메모 입력 필드 표시
- [x] "현재 계획 저장" 버튼 동작
- [ ] 저장 성공 토스트 - **alert가 표시됨**
- [x] 이력 보기에서 저장된 계획 확인 (이력 카운트 증가 확인)

### 발견된 문제
- **문제**: 클릭 시 toast 대신 alert() 대화상자 표시 ("매매계획이 저장되었습니다.")
- **원인**: 배포된 버전에 toast 변환이 적용되지 않음
- **파일/위치**: frontend/src/pages/PositionDetail.jsx
- **해결 상태**: 로컬 수정 완료, git push + 재배포 필요

---

## 7.8 매매계획 이력 조회

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 매매계획 → 이력 보기 |
| **예상 결과** | 저장된 계획 목록 표시 |

### 체크리스트
- [ ] "이력 보기" 버튼 동작
- [ ] 저장된 계획 목록 표시
- [ ] 버전, 작성자, 날짜 표시
- [ ] 제출/삭제 버튼 동작

### 발견된 문제

---

# 시나리오 8: 의사결정 노트

## 8.1 노트 작성 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 포지션 상세 → 의사결정 노트 → + 문서 추가 |
| **예상 결과** | 새 노트 작성 및 저장 |

### 체크리스트
- [x] "+ 문서 추가" 버튼 표시 (팀장만) (2026-02-07 삼양식품에서 테스트)
- [x] 클릭 시 작성 폼 표시 (제목/내용 입력 필드)
- [x] 제목 입력 가능 ("삼양식품 1차 익절 완료")
- [x] 내용 입력 가능 (마크다운 - ##, **, - 리스트 등)
- [x] 저장 버튼 동작
- [x] 저장 후 목록에 표시 (작성자, 날짜 포함)

### 발견된 문제
- 없음 (정상 동작)

---

## 8.2 노트 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 의사결정 노트 목록 → 노트 클릭 |
| **예상 결과** | 노트 내용 펼쳐서 표시 |

### 체크리스트
- [x] 노트 목록 표시 (2026-02-07 팀장으로 테스트)
- [x] 노트 클릭 시 내용 펼침
- [x] 마크다운 렌더링 정상 (##제목, **볼드**, 리스트 모두 정상)

### 발견된 문제
- 없음 (정상 동작)

---

## 8.3 노트 수정 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 노트 → 수정 버튼 |
| **예상 결과** | 노트 수정 및 저장 |

### 체크리스트
- [ ] 수정 버튼 표시 (팀장만)
- [ ] 클릭 시 편집 폼
- [ ] 제목/내용 수정 가능
- [ ] 저장 성공

### 발견된 문제

---

## 8.4 노트 삭제 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 노트 → 삭제 버튼 |
| **예상 결과** | 노트 삭제 |

### 체크리스트
- [ ] 삭제 버튼 표시 (팀장만)
- [ ] 클릭 시 확인 다이얼로그
- [ ] 삭제 후 목록에서 제거

### 발견된 문제

---

# 시나리오 9: AI 기능

## 9.1 AI 의사결정서 생성 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 포지션 상세 → 의사결정 노트 → "AI로 작성" |
| **예상 결과** | 토론 기반 의사결정서 자동 생성 |

### 체크리스트
- [ ] "AI로 작성" 버튼 표시
- [ ] 클릭 시 토론 세션 선택 모달
- [ ] 토론 세션 체크박스 선택 가능
- [ ] 생성 버튼 동작
- [ ] 로딩 표시
- [ ] 생성된 내용 표시
- [ ] 저장 시 노트 목록에 추가
- [ ] 일일 사용량 카운트 표시

### 발견된 문제

---

## 9.2 AI 운용보고서 생성 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 포지션 상세 → "AI 보고서" 버튼 |
| **예상 결과** | 포지션 전체 데이터 기반 보고서 생성 |

### 체크리스트
- [x] "AI 보고서" 버튼 표시 (팀장만)
- [x] 클릭 시 모달 열림
- [ ] 보고서 생성 버튼 동작 - **오류 발생**
- [ ] 로딩 표시
- [ ] 생성된 보고서 표시
- [ ] 복사 버튼 동작
- [ ] "의사결정 노트로 저장" 버튼 동작

### 발견된 문제
- **문제**: "보고서 생성 중 오류가 발생했습니다." alert 표시. API 호출 실패 (`ai/generate-operation-report`)
- **원인**: OpenAI API 키가 백엔드에 설정되지 않았거나 서버 오류
- **파일/위치**: backend/app/services/ai_service.py, backend/.env (OPENAI_API_KEY)
- **해결 상태**: 미해결 - API 키 설정 필요

---

# 시나리오 10: 포지션 종료

## 10.1 포지션 종료 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 포지션 상세 → 포지션 종료 |
| **예상 결과** | 포지션 종료, 수익률 계산 |

### 체크리스트
- [ ] "포지션 종료" 버튼 표시 (팀장만)
- [ ] 클릭 시 종료 모달
- [ ] 종목명/매입가/수량 확인 가능
- [ ] 청산 금액 입력 필드
- [ ] 예상 수익금 자동 계산 표시
- [ ] 종료 버튼 동작
- [ ] 성공 토스트
- [ ] 포지션 상태 "closed"로 변경
- [ ] 수익률 표시

### 발견된 문제

---

## 10.2 포지션 삭제 (팀장 - 관리자모드)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 (관리자모드 ON) |
| **액션** | 포지션 상세 → 삭제 버튼 |
| **예상 결과** | 포지션 및 연관 데이터 삭제 |

### 체크리스트
- [ ] 관리자모드 ON 시 삭제 버튼 표시
- [ ] 클릭 시 경고 다이얼로그
- [ ] 삭제 완료 후 포지션 목록으로 이동
- [ ] 연관 요청, 토론, 노트 함께 삭제

### 발견된 문제

---

# 시나리오 11: 문서

## 11.1 운용보고서 탭 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 문서 페이지 → 운용보고서 탭 |
| **예상 결과** | 포지션별 카드 표시, 클릭 시 노트 목록 모달 |

### 체크리스트
- [ ] 문서 페이지 로드
- [ ] 운용보고서 탭 기본 선택
- [ ] 포지션별 카드 표시 (종목명, 티커, 토론/노트 개수)
- [ ] 클릭 시 PositionNotesViewer 모달 열림 (페이지 이동 X)
- [ ] 모달에서 노트 목록 표시
- [ ] 노트 클릭 시 DocumentViewer 모달로 내용 표시
- [ ] AI 보고서 버튼 표시 (팀장만, 데이터 있는 포지션만)

### 발견된 문제

---

## 11.2 의사결정서 탭 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 문서 페이지 → 의사결정서 탭 |
| **예상 결과** | 전체 의사결정서 목록 표시 |

### 체크리스트
- [ ] 의사결정서 탭 클릭
- [ ] 의사결정서 목록 표시
- [ ] 제목, 포지션 정보, 작성자, 날짜 표시
- [ ] 클릭 시 DocumentViewer 모달 열림
- [ ] 마크다운 렌더링 (제목, 리스트, 테이블 등)
- [ ] 수정/삭제 버튼 표시 (권한에 따라)

### 발견된 문제

---

## 11.3 칼럼 목록 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 문서 페이지 → 칼럼 탭 |
| **예상 결과** | 칼럼 목록 표시 |

### 체크리스트
- [ ] 칼럼 탭 클릭
- [ ] 칼럼 목록 표시
- [ ] 제목, 작성자, 날짜 표시
- [ ] 클릭 시 DocumentViewer 모달 열림

### 발견된 문제

---

## 11.3 칼럼 작성 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 칼럼 탭 → 칼럼 작성 버튼 |
| **예상 결과** | 사이드 패널 에디터로 칼럼 작성 |

### 체크리스트
- [x] "칼럼 작성" 버튼 표시 (2026-02-07 팀장으로 테스트)
- [x] 클릭 시 사이드 패널 에디터 열림
- [x] "취소", "저장" 버튼 표시
- [x] 제목 입력 가능 ("2월 시장 전망 - 코스피 분석")
- [x] 블록 에디터 동작 (블록 추가/삭제 버튼)
- [ ] "/" 입력 시 블록 메뉴 표시 (미테스트)
- [ ] 텍스트/제목/인용/이미지/구분선 블록 추가 가능 (미테스트)
- [x] 저장 후 목록에 표시
- [x] 저장 시 토스트 알림 ("칼럼이 저장되었습니다")

### 발견된 문제
- 없음 (정상 동작)

---

## 11.4 칼럼 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 칼럼 목록 → 칼럼 클릭 |
| **예상 결과** | 칼럼 상세 모달 표시 |

### 체크리스트
- [ ] 칼럼 클릭 시 모달 열림
- [ ] 제목, 작성자, 날짜 표시
- [ ] 블록 내용 렌더링

### 발견된 문제

---

## 11.5 칼럼 수정 (작성자만)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 (본인 작성 칼럼) |
| **액션** | 칼럼 상세 → 수정 버튼 |
| **예상 결과** | 에디터에서 수정 가능 |

### 체크리스트
- [ ] 수정 버튼 표시 (작성자만)
- [ ] 클릭 시 에디터 페이지 이동
- [ ] 기존 내용 로드
- [ ] 수정 후 저장 성공

### 발견된 문제

---

## 11.6 칼럼 삭제 (작성자 또는 팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 (본인) 또는 이학현 (팀장) |
| **액션** | 칼럼 상세 → 삭제 버튼 |
| **예상 결과** | 칼럼 삭제 |

### 체크리스트
- [ ] 삭제 버튼 표시 (작성자 또는 팀장)
- [ ] 클릭 시 확인 다이얼로그
- [ ] 삭제 후 목록에서 제거

### 발견된 문제

---

# 시나리오 12: 통계

## 12.1 개인 통계 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 통계 페이지 → 내 통계 탭 |
| **예상 결과** | 개인 성과 통계 표시 |

### 체크리스트
- [ ] 통계 페이지 로드
- [ ] 내 통계 탭 표시
- [ ] 총 수익률 표시
- [ ] 포지션 수 (열린/종료) 표시
- [ ] 승률 표시

### 발견된 문제

---

## 12.2 팀 통계 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 통계 페이지 → 팀 통계 탭 |
| **예상 결과** | 팀 전체 성과 표시 |

### 체크리스트
- [ ] 팀 통계 탭 표시
- [ ] 팀 총 수익률 표시
- [ ] 활성 포지션 수 표시
- [ ] 최근 활동 표시

### 발견된 문제

---

## 12.3 리더보드 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 통계 페이지 → 리더보드 탭 |
| **예상 결과** | 팀원 순위 표시 |

### 체크리스트
- [ ] 리더보드 탭 표시
- [ ] 팀원 순위 목록
- [ ] 수익률 기준 정렬
- [ ] 순위 뱃지 표시

### 발견된 문제

---

## 12.4 팀원 통계 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 통계 페이지 → 팀원 탭 → 팀원 클릭 |
| **예상 결과** | 해당 팀원의 상세 통계 표시 |

### 체크리스트
- [ ] 팀원 탭 표시
- [ ] 팀원 목록 표시
- [ ] 팀원 클릭 시 상세 통계
- [ ] 일반 멤버도 다른 멤버 통계 조회 가능

### 발견된 문제

---

# 시나리오 13: 알림 시스템

## 13.1 알림 수신 확인 (팀원)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 |
| **액션** | 팀장이 요청 승인 시 알림 확인 |
| **예상 결과** | 실시간 알림 수신 |

### 체크리스트
- [ ] 헤더 알림 아이콘에 뱃지 표시
- [ ] 알림 드롭다운에서 새 알림 확인
- [ ] 알림 클릭 시 관련 페이지 이동

### 발견된 문제

---

## 13.2 알림 목록 조회 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 알림 페이지 이동 |
| **예상 결과** | 알림 목록 표시 |

### 체크리스트
- [ ] 알림 페이지 로드
- [ ] 알림 목록 표시
- [ ] 읽음/안읽음 상태 구분
- [ ] 알림 타입별 아이콘 표시

### 발견된 문제

---

## 13.3 알림 읽음 처리 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 알림 클릭 또는 전체 읽음 |
| **예상 결과** | 알림 읽음 상태로 변경 |

### 체크리스트
- [ ] 개별 알림 클릭 시 읽음 처리
- [ ] "전체 읽음" 버튼 동작
- [ ] 뱃지 카운트 감소

### 발견된 문제

---

## 13.4 알림 삭제 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 알림 삭제 버튼 |
| **예상 결과** | 알림 삭제 |

### 체크리스트
- [ ] 삭제 버튼 표시
- [ ] 클릭 시 알림 삭제
- [ ] 목록에서 제거

### 발견된 문제

---

## 13.5 알림 종류별 테스트

| 알림 유형 | 트리거 | 수신자 |
|----------|--------|--------|
| 매수 요청 | 팀원이 매수 요청 제출 | 팀장 |
| 토론 개시 | 팀장이 토론 개시 | 요청자 |
| 요청 승인 | 팀장이 요청 승인 | 요청자 |
| 요청 거부 | 팀장이 요청 거부 | 요청자 |
| 토론 재개요청 | 팀원이 재개 요청 | 팀장 |
| 토론 요청 | 팀원이 토론 요청 | 팀장 |
| 조기종료 요청 | 팀원이 조기종료 요청 | 팀장 |

### 체크리스트
- [ ] 매수 요청 알림 동작
- [ ] 토론 개시 알림 동작
- [ ] 요청 승인 알림 동작
- [ ] 요청 거부 알림 동작
- [ ] 토론 재개요청 알림 동작
- [ ] 토론 요청 알림 동작
- [ ] 조기종료 요청 알림 동작

### 발견된 문제

---

# 시나리오 14: 팀 관리

## 14.1 팀 관리 페이지 접근 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 팀 관리 메뉴 클릭 |
| **예상 결과** | 팀원 목록 표시 |

### 체크리스트
- [ ] 사이드바에 "팀 관리" 메뉴 표시
- [ ] 클릭 시 팀 관리 페이지 로드
- [ ] 팀원 목록 표시
- [ ] 역할, 이메일 표시

### 발견된 문제

---

## 14.2 역할 변경 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 팀원 → 역할 변경 드롭다운 |
| **예상 결과** | 역할 변경 (member/admin) |

### 체크리스트
- [ ] 역할 변경 드롭다운 표시
- [ ] 역할 선택 시 변경
- [ ] 성공 토스트

### 발견된 문제

---

## 14.3 관리자모드 토글 (팀장)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 |
| **액션** | 팀 관리 → 관리자모드 토글 |
| **예상 결과** | 관리자모드 ON/OFF |

### 체크리스트
- [ ] 관리자모드 토글 스위치 표시
- [ ] ON 시 삭제 버튼들 표시
- [ ] OFF 시 삭제 버튼들 숨김

### 발견된 문제

---

## 14.4 팀원 삭제 (팀장 - 관리자모드)

| 항목 | 내용 |
|------|------|
| **계정** | 이학현 (관리자모드 ON) |
| **액션** | 팀원 → 삭제 버튼 |
| **예상 결과** | 팀원 삭제 |

### 체크리스트
- [ ] 관리자모드 ON 시 삭제 버튼 표시
- [ ] 클릭 시 확인 다이얼로그
- [ ] 삭제 완료 (주의: 실제 테스터 계정 삭제 X)

### 발견된 문제

---

# 시나리오 15: 설정

## 15.1 테마 변경 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 설정 페이지 → 테마 변경 |
| **예상 결과** | 라이트/다크 모드 전환 |

### 체크리스트
- [ ] 설정 페이지 로드
- [ ] 테마 선택 옵션 표시
- [ ] 라이트 모드 선택 시 적용
- [ ] 다크 모드 선택 시 적용
- [ ] 시스템 설정 따르기 옵션

### 발견된 문제

---

## 15.2 알림 설정 (양측)

| 항목 | 내용 |
|------|------|
| **계정** | 테스터 / 이학현 |
| **액션** | 설정 페이지 → 알림 설정 |
| **예상 결과** | 알림 ON/OFF 설정 |

### 체크리스트
- [ ] 알림 설정 섹션 표시
- [ ] 토글 스위치 동작
- [ ] 설정 저장

### 발견된 문제

---

# 발견된 문제 종합

## 라운드 1 (2026-02-07)

| # | 시나리오 | 문제 설명 | 파일/위치 | 해결 상태 |
|---|----------|----------|-----------|-----------|
| 1 | 전역 | **alert() 대화상자가 toast 대신 사용됨** - ToastContext 추가 및 toast 변환 완료. | frontend/src/pages/*.jsx, frontend/src/context/ToastContext.jsx | ✅ 해결됨 (매매계획 저장 시 toast 정상 표시 확인) |
| 2 | 2.2 팀 설정 | **팀 설정 API 실패** - `positions/settings/team` 엔드포인트가 CORS 또는 서버 오류로 실패. 대시보드에서 자본금이 "-"로 표시됨 | backend/app/api/positions.py | 미해결 - 백엔드 조사 필요 |
| 3 | 9.2 AI 보고서 | **AI 운용보고서 생성 실패** - "보고서 생성 중 오류가 발생했습니다." OpenAI API 키 미설정 또는 서버 오류 | backend/app/services/ai_service.py | 미해결 - API 키 설정 필요 |

### UX 개선 사항

| # | 위치 | 개선 내용 | 파일/위치 | 상태 |
|---|------|----------|-----------|------|
| 1 | 6.2 포지션 상세 | **차트 섹션 높이 고정** - 매매계획이 길어져도 차트 섹션이 같이 늘어나지 않도록 고정. `items-start` + `lg:self-start` 추가 | frontend/src/pages/PositionDetail.jsx | ✅ 해결됨 (2026-02-07 테스트 완료) |
| 2 | 4.1 요청 목록 | **수량 소수점 과다 표시** - `formatQuantity()` 함수 사용하여 불필요한 소수점 제거 | frontend/src/pages/Requests.jsx, PositionDetail.jsx | ✅ 해결됨 (포지션 상세에서 "10 shares" 정상 표시 확인) |
| 3 | 3.1 종목 검색 | **차트 인라인 표시** - 종목 선택 후 차트 보기 시 팝업 대신 검색 컴포넌트 내부에 표시 | frontend/src/pages/Positions.jsx | ✅ 해결됨 (2026-02-07 테스트 완료 - 타임프레임 버튼, 차트 정상 동작) |
| 4 | 6.2 포지션 상세 | **프로그레스 바 라벨 개선** - "1차 목표" → "1차 익절" 또는 "1차 손절"로 방향에 따라 구분 표시 | frontend/src/components/common/ProfitProgressBar.jsx | 수정됨 - 배포 대기 중 |

## 라운드 2 (2026-02-07)

| # | 시나리오 | 문제 설명 | 파일/위치 | 해결 상태 |
|---|----------|----------|-----------|-----------|
| 1 | 7.6 체결 확인 | **window.confirm() → 커스텀 모달로 변경** - 체결 시 시스템 알림 대신 스타일링된 모달 표시 | frontend/src/pages/PositionDetail.jsx | ✅ 해결됨 (commit dba45d9) |

### 테스트 완료 항목

| 시나리오 | 테스트 내용 | 결과 |
|---------|------------|------|
| 7.2 | 익절 계획 추가 (팀원) | ✅ 정상 |
| 7.3 | 손절 계획 추가 (팀원) | ✅ 정상 |
| 7.6 | 계획 항목 체결 (팀장) | ✅ 정상 (보유수량 5→2, 실현손익 ₩120,000) |
| 8.1 | 의사결정 노트 작성 (팀장) | ✅ 정상 (마크다운 렌더링 정상) |
| 8.2 | 의사결정 노트 조회 | ✅ 정상 |
| 11.3 | 칼럼 작성 (팀장) | ✅ 정상 (토스트 알림 정상) |

## 라운드 3

| # | 시나리오 | 문제 설명 | 파일/위치 | 해결 상태 |
|---|----------|----------|-----------|-----------|
| 1 | | | | |

---

# 변경 이력

| 날짜 | 변경 내용 |
|------|-----------|
| 2026-02-07 | 포괄적인 테스트 시나리오 문서 재작성 |
| 2026-02-07 | UX 개선 3건 테스트 완료 (인라인 차트, 차트 높이 고정, 수량 표시) |
| 2026-02-07 | Toast 알림 시스템 배포 완료 (commit 67ef8a5) |
| 2026-02-07 | 라운드 2 테스트 완료: 매매계획 추가/체결, 의사결정 노트, 칼럼 작성 |
| 2026-02-07 | 체결 확인 모달 개선 (commit dba45d9) - window.confirm → 커스텀 모달 |
